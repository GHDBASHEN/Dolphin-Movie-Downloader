<!DOCTYPE html>
<html>
  <head>
    <title>Movie Download Manager</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>Dolphin Movie Downloader üê¨</h1>
        <button class="toggle-downloads-btn" onclick="toggleSidebar()">
          <i class="fas fa-download"></i> Downloads
          <span id="activeCount" class="badge" style="display: none">0</span>
        </button>
      </div>

      <div class="search-box">
        <i class="fas fa-search" style="padding: 12px; color: #64748b"></i>
        <input
          type="text"
          id="searchInput"
          placeholder="Search for movies (e.g., 'Inception 1080p')..."
          onkeypress="handleEnter(event)"
        />

        <button id="searchBtn" onclick="search()" class="primary-btn">
          Search
        </button>
        <button
          id="cancelSearchBtn"
          onclick="cancelSearch()"
          class="cancel-btn"
          style="display: none"
        >
          <i class="fas fa-times"></i>
        </button>
      </div>

      <div class="filter-bar">
        <div class="filter-group">
          <label>Quality</label>
          <select id="qualityFilter" onchange="applyFilters()">
            <option value="all">Any</option>
            <option value="2160p">4K / 2160p</option>
            <option value="1080p">1080p</option>
            <option value="720p">720p</option>
          </select>
        </div>

        <div class="filter-group">
          <label>Sort</label>
          <select id="sortFilter" onchange="applyFilters()">
            <option value="seeds_desc">Seeds: High ‚Üí Low</option>
            <option value="seeds_asc">Seeds: Low ‚Üí High</option>
            <option value="size_desc">Size: Big ‚Üí Small</option>
          </select>
        </div>

        <span id="resultCount" class="filter-stats"></span>
      </div>

      <div class="results-container">
        <table id="resultsTable">
          <thead>
            <tr>
              <th width="50%">Title</th>
              <th width="15%">Size</th>
              <th width="15%">Seeds</th>
              <th width="20%">Action</th>
            </tr>
          </thead>
          <tbody id="resultsBody"></tbody>
        </table>

        <div
          id="loadMoreContainer"
          class="load-more-container"
          style="display: none"
        >
          <button onclick="loadMore()" class="secondary-btn">
            Load More Results
          </button>
        </div>
      </div>

      <div id="emptyState">
        <i class="fas fa-film" style="font-size: 48px; margin-bottom: 10px"></i>
        <p>Ready to search</p>
      </div>
    </div>

    <div id="downloadSidebar" class="sidebar">
      <div class="header">
        <h2>&nbsp; Downloads</h2>
        <button
          onclick="toggleSidebar()"
          style="background: none; color: white; font-size: 20px"
        >
          √ó
        </button>
      </div>
      <div class="sidebar-settings" style="margin-bottom: 20px">
        <label style="display: block; margin-bottom: 5px">Save Location:</label>
        <div
          style="
            display: flex;
            background: #0f172a;
            border-radius: 6px;
            padding: 5px;
          "
        >
          <input
            type="text"
            id="pathDisplay"
            readonly
            style="
              border: none;
              background: transparent;
              color: #94a3b8;
              width: 100%;
            "
          />
          <button
            onclick="changeFolder()"
            style="background: none; color: #38bdf8"
          >
            <i class="fas fa-folder-open"></i>
          </button>
        </div>
      </div>
      <div id="downloadList"></div>
    </div>

    <script src="renderer.js"></script>
  </body>
</html>
